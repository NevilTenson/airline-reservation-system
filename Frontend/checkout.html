<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Checkout â€” Complete Booking</title>
  <link rel="stylesheet" href="styles/main.css" />
  <!-- Add specific styles for passenger grid if needed -->
  <style>
    .passenger-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: var(--gap, 16px);
    }
    .passenger-form-group {
        border: 1px solid #eef3f8;
        padding: var(--gap, 16px);
        margin-bottom: var(--gap, 16px);
        border-radius: var(--radius, 10px);
    }
    .passenger-form-group h4 {
        margin-top: 0;
        margin-bottom: 12px;
        color: var(--primary);
    }
    .error-box { /* Style for error messages */
        background-color: #fff6f6;
        border-color: #ffe6e6;
        color: var(--danger, #dc3545);
        padding: 15px;
    }
    .error-box h2 {
      color: var(--danger, #dc3545);
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">My Airline</a></li>
      <li id="nav-search"><a href="search.html">Search Flights</a></li>
      <li id="nav-bookings" class="hidden"><a href="bookings.html">My Bookings</a></li>
      <li id="nav-login" class="hidden"><a href="login.html">Login</a></li>
      <li id="nav-register" class="hidden"><a href="register.html">Register</a></li>
      <li id="nav-logout" class="hidden"><button id="logout-btn">Logout</button></li>
    </ul>
  </nav>

  <main class="container">
    <header><h1>Complete Your Booking</h1></header>

    <div id="checkout-message" class="message-box hidden"></div> <!-- For messages -->

    <section class="card">
      <h3>Flight Summary</h3>
      <div id="flight-summary">Loading flight details...</div>
    </section>

    <!-- Single form wrapping Passengers and Payment -->
    <form id="checkout-form">
      <section class="card">
        <h3>Passenger Details</h3>
        <!-- Passenger forms will be inserted here by checkout.js -->
        <div id="passenger-forms-container" class="form-stack">
          <!-- Structure generated by JS -->
        </div>
      </section>

      <section class="card">
        <!-- Removed (simulated) -->
        <h3>Payment Details</h3>
        <div class="form-stack">
          <label>
            Payment Mode
            <select id="payment-mode" name="paymentMode" required>
              <option value="Credit Card">Credit Card</option>
              <option value="Debit Card">Debit Card</option>
              <option value="UPI">UPI</option>
              <option value="Net Banking">Net Banking</option>
            </select>
          </label>
          <label>
            Card/Transaction Number
            <!-- Added maxlength, type=tel, pattern, inputmode -->
            <input
              id="card-number"
              name="cardNumber"
              placeholder="xxxx xxxx xxxx"
              required
              maxlength="14"
              type="tel"
              pattern="\d{4}\s?\d{4}\s?\d{4}"
              inputmode="numeric"
            />
          </label>
          <label>
            Expiry (MM/YY)
            <!-- Added maxlength, pattern -->
            <input
              id="card-expiry"
              name="expiry"
              placeholder="MM/YY"
              required
              maxlength="5"
              pattern="(0[1-9]|1[0-2])\/\d{2}"
            />
          </label>
          <label>
            CVC
            <!-- Added maxlength, type=tel, pattern, inputmode -->
            <input
              id="card-cvc"
              name="cvc"
              placeholder="123"
              required
              maxlength="3"
              type="tel"
              pattern="\d{3}"
              inputmode="numeric"
            />
          </label>
        </div>
      </section>

      <div class="actions" style="margin-top: var(--gap, 16px);">
         <!-- Submit button now part of the main form -->
        <button id="confirm-btn" class="btn primary" type="submit">Confirm and Pay</button>
      </div>
    </form> <!-- End of single checkout form -->

  </main>

  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/checkout.js"></script>
</body>
</html>
