<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Airline — Home</title>
  <link rel="stylesheet" href="/styles/main.css" /> <!-- Corrected path -->
  <style>
    /* small home-page specific styles */
    .hero{
      display:flex;
      gap:20px;
      align-items:center;
      justify-content:space-between;
      padding:28px;
      background:linear-gradient(180deg, #ffffff, #f7fbff);
      border-radius:12px;
      box-shadow:var(--shadow);
    }
    .hero-left{max-width:64%}
    .hero h1{font-size:28px;margin-bottom:10px}
    .hero p.lead{color:var(--muted);margin-bottom:18px}
    .cta-group{display:flex;gap:10px}
    .quote{font-style:italic;color:var(--primary);margin:18px 0 0 0}
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:18px}
    .feature{background:#fff;border-radius:10px;padding:12px;border:1px solid #eef3f8}
    @media (max-width:820px){
      .hero{flex-direction:column;align-items:flex-start}
      .hero-left{max-width:100%}
    }
  </style>
</head>
<body>
  <!-- === UPDATED NAVIGATION BAR === -->
  <nav>
    <ul>
      <li><a href="/home.html">My Airline</a></li> <!-- Use root path -->
      <li id="nav-search"><a href="/search.html">Search Flights</a></li> <!-- Use root path -->
      <li id="nav-bookings" class="hidden"><a href="/bookings.html">My Bookings</a></li> <!-- Use root path -->
      <li id="nav-admin" class="hidden"><a href="/admin.html">Admin</a></li> <!-- Added Admin -->
      <li id="nav-login" class="hidden"><a href="/login.html">Login</a></li> <!-- Added hidden -->
      <li id="nav-register" class="hidden"><a href="/register.html">Register</a></li> <!-- Added hidden -->
      <li id="nav-logout" class="hidden"><button id="logout-btn">Logout</button></li>
      <!-- --- ADDED PROFILE AVATAR --- -->
      <li id="nav-profile" class="hidden profile-avatar-li" style="margin-left: auto;">
        <a href="/profile.html" title="View Profile" class="profile-avatar-link"> <!-- Use root path -->
          <div class="profile-avatar-icon">
            <span id="nav-profile-initial" class="profile-avatar-initial">?</span>
          </div>
        </a>
      </li>
      <!-- --- END PROFILE AVATAR --- -->
    </ul>
  </nav>
  <!-- === END UPDATED NAVIGATION BAR === -->

  <main class="container">
    <section class="hero card">
      <div class="hero-left">
        <h1>Welcome to My Airline</h1>
        <p class="lead">Fast, simple, and reliable flight booking. Search flights, choose seats, and complete payments — all in one place.</p>

        <div class="cta-group">
          <a class="btn primary" href="/search.html">Search Flights</a> <!-- Use root path -->
          <a class="btn link" href="/bookings.html" id="hero-my-bookings-btn">My Bookings</a> <!-- Use root path -->
        </div>

        <p class="quote">“Travel expands the mind and fills the gap in the heart.” — Start your next journey with us.</p>
      </div>

      <div class="hero-right" style="min-width:220px;text-align:right">
         <!-- Updated placeholder -->
        <img src="https://placehold.co/220x120/0d6efd/ffffff?text=Fly+With+Us" alt="airplane flying over clouds" style="border-radius:8px;box-shadow:var(--shadow)" />
      </div>
    </section>

    <section style="margin-top:20px">
      <div class="card">
        <h2>About this site</h2>
        <p class="muted">This demo Airline Reservation System is a minimal frontend that connects to the backend API. It demonstrates user authentication, flight search, booking flow, and a simulated payment step. Use the Login and Register buttons above to create an account and start booking.</p>

        <div class="features" aria-hidden="false">
          <div class="feature">
            <strong>Search & Filter</strong>
            <div class="muted">Find flights by origin, destination, date, class and passenger count.</div>
          </div>
          <div class="feature">
            <strong>Secure Booking</strong>
            <div class="muted">Bookings require authentication; tokens are stored in localStorage for the demo.</div>
          </div>
          <div class="feature">
            <strong>Easy Management</strong>
            <div class="muted">View your bookings and manage your profile details easily.</div>
          </div>
        </div>
      </div>
    </section>

    <section style="margin-top:16px">
      <div class="card">
        <h3>Quick tips</h3>
        <ul class="muted">
          <li>Register a new account to enable booking and viewing your bookings.</li>
          <li>Ensure your backend server is running on the configured API base (usually http://localhost:5000).</li>
          <li>API base is configured in js/main.js — update if your backend runs on a different port.</li>
        </ul>
      </div>
    </section>
  </main>

   <!-- Corrected script path -->
  <script type="module" src="./js/main.js"></script>
  <script type="module">
      // Corrected import path
      import { isLoggedIn } from './js/main.js';
      // Hide hero My Bookings button if not logged in
      const heroBookingsBtn = document.getElementById('hero-my-bookings-btn');
      if (heroBookingsBtn && !isLoggedIn()) {
          heroBookingsBtn.classList.add('hidden');
      }
  </script>
</body>
</html>

